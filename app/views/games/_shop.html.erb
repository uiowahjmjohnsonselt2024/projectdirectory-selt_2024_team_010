<!-- app/views/gameshop/index.html.erb -->
<div class="game-shop" style="display: flex; flex-direction: column; height: 100%; overflow-y: scroll">

  <!-- Main Tabs -->
  <div class="main-tabs" style="flex: 0 0 auto;">
    <button class="main-tablinks active" data-section="ShopSection">Shop</button>
    <button class="main-tablinks" data-section="ItemsSection">Items</button>
    <button class="main-tablinks" data-section="GameSection">Tile</button>
  </div>

  <!-- Shop Section -->
  <div id="ShopSection" class="main-tabcontent" style="display: block; flex: 1 0 auto; overflow-y: auto;">
    <div class="shop-container">
      <h2>In-Game Shop</h2>
      <div class="tab">
        <button class="tablinks active" data-category="Weapons">Weapons</button>
        <button class="tablinks" data-category="Armor">Armor</button>
        <button class="tablinks" data-category="Abilities">Abilities</button>
        <button class="tablinks" data-category="Healing">Healing</button>
      </div>

      <!-- Weapons Tab Content -->
      <div id="Weapons" class="tabcontent" style="display: block;">
        <!-- Weapons Items List -->
      </div>

      <!-- Armor Tab Content -->
      <div id="Armor" class="tabcontent">
        <!-- Armor Items List -->
      </div>

      <!-- Abilities Tab Content -->
      <div id="Abilities" class="tabcontent">
        <!-- Abilities Items List -->
      </div>

      <!-- Healing Tab Content -->
      <div id="Healing" class="tabcontent">
        <!-- Full Heal -->
        <div class="item-details">
          <h3>Full Heal</h3>
          <p>Restore your HP to its maximum</p>
          <p><strong>Price:</strong> 100</p>
          <button style="margin-top: 5px" class="btn-secondary buy"
                  data-item-name="Full Heal"
                  data-item-category="Healing"
                  data-item-description="Restores HP to full"
                  data-item-level="1"
                  data-item-price="100">
            Buy
          </button>
        </div>

        <!-- Increase Max HP -->
        <div class="item-details">
          <h3>Increase Max HP</h3>
          <p>Increase your maximum HP by 10</p>
          <p><strong>Price:</strong> 500</p>
          <button style="margin-top: 5px" class="btn-secondary buy"
                  data-item-name="Max HP Boost"
                  data-item-category="Healing"
                  data-item-description="Increases max HP by 10"
                  data-item-level="1"
                  data-item-price="500">
            Buy
          </button>
        </div>
      </div>

    </div>

    <!-- Button to load AI-generated items -->
    <button id="load-items-button" class="btn-secondary">Refresh : 500 Shards</button>
  </div>

  <!-- Items Section -->
  <div id="ItemsSection" class="main-tabcontent text-with-border" style="flex: 1 1 auto; max-height: 100%; overflow-y: auto; padding-left: 10px;">
    <h2 class="text-with-border">Your Items</h2>
    <% if @items.present? %>
      <% @items.each do |item| %>
        <div class="item text-with-border" data-item-id="<%= item.id %>">
          <h3 class="text-with-border"><%= item.name %></h3>
          <p class="text-with-border"><strong>Level:</strong> <%= item.level %></p>
          <p class="text-with-border"><strong>Type:</strong> <%= item.item_type %></p>
          <p class="text-with-border"><strong>Description:</strong> <%= item.description %></p>
          <button class="btn delete-button">Delete</button>
          <hr>
        </div>
      <% end %>
    <% end %>
  </div>

  <!-- Game Section -->
  <div id="GameSection" class="main-tabcontent" style="flex: 1 0 auto; padding-left: 10px;">
  </div>
</div>

<%= javascript_include_tag '_shop.js' %>
